---
title: "Data Entry Template for Redd Survey Data"
output: rmarkdown::github_document
---

**Author**: Badhia Yunes Katz  
**Date**: January 2025  

The goal of this document is to provide guidance on data entry for Redd data entry on Battle and Clear Creek. By having a more unified data entry, less cleaning will be needed, and therefore EDI updates will run smoothly.


## General Guidelines
1. **Date Format**: Use the format `MM/DD/YYYY` for all dates.
2. **Consistency in Categories**:
   - Use standardized categories for substrate sizes based on the Wentworth Scale.
   - Ensure consistent naming conventions for `REACH`, `SPECIES`, and other categorical fields.
3. **Mandatory Fields**: Enter values for all required fields. Use `NA` if a value is not applicable or missing.

---

## Field Definitions and Allowed Values

| Field Name          | Data Type      | Description                                  | Allowed Values/Format                   |
|---------------------|----------------|----------------------------------------------|-----------------------------------------|
| `POINT_X`           | Numeric        | Longitude of the observation.               | Decimal format (e.g., -122.12345)       |
| `POINT_Y`           | Numeric        | Latitude of the observation.                | Decimal format (e.g., 47.12345)         |
| `River_Mile`        | Numeric        | River mile of the observation.              | Positive decimal values                 |
| `DATE`              | Date           | Date of the observation.                    | `MM/DD/YYYY`                            |
| `REACH`             | Categorical    | Survey reach.                               | "1", "2", "3", "4", "5"                 |
| `REDD_ID`           | String         | Unique identifier for the redd.             | Autogenerated: `MM/DD/YYYY_REACH_ID`    |
| `SPECIES`           | Categorical    | Species observed.                           | "Chinook", "O.mykiss"                   |
| `AGE`               | Numeric        | Age of the fish (if determined).            | Integer values                          |
| `REDD_LOC`          | Categorical    | Location of the redd.                       | Predefined location codes               |
| `GRAVEL`            | Categorical    | Gravel type observed.                       | Predefined gravel types                 |
| `INJ_SITE`          | Categorical    | Injection site.                             | Predefined site codes                   |
| `PRE_SUB`           | Categorical    | Size of substrate before the redd.          | "<0.25", "0.25-0.5", "0.5-1", "1-2", "2-4", "4-8", "8-16", ">16" |
| `SIDE_SUB`          | Categorical    | Size of substrate at the redd.              | Same as `PRE_SUB`                       |
| `TAIL_SUB`          | Categorical    | Size of substrate in the tailspill.         | Same as `PRE_SUB`                       |
| `Fish_on_Re`        | Boolean        | Observed fish guarding the redd.            | `TRUE`, `FALSE`                         |
| `MEASURE`           | Boolean        | Was the redd measured?                      | `TRUE`, `FALSE`                         |
| `WHY_NOT_ME`        | String         | Reason why redd was not measured.           | Free text (limit to 100 characters)     |
| `DATE_MEA`          | Date           | Date when the redd was measured.            | `MM/DD/YYYY`                            |
| `PRE_REDD__`        | Numeric        | Depth before the redd (in inches).          | Positive numeric values                 |
| `PIT__in_`          | Numeric        | Depth of the redd pit (in inches).          | Positive numeric values                 |
| `TAILSPILL_`        | Numeric        | Depth of the tailspill (in inches).         | Positive numeric values                 |
| `LENGTH__in`        | Numeric        | Length of the redd (in inches).             | Positive numeric values                 |
| `WIDTH__in_`        | Numeric        | Width of the redd (in inches).              | Positive numeric values                 |
| `BOMB_START`        | Numeric        | Start reading of the bomb flow meter.       | Positive numeric values                 |
| `BOMB_END`          | Numeric        | End reading of the bomb flow meter.         | Positive numeric values                 |
| `BOMB_SECON`        | Numeric        | Time for bomb flow meter reading (s).       | Positive numeric values                 |
| `START_80`          | Numeric        | 80% start reading of flow meter.            | Positive numeric values                 |
| `END_80_`           | Numeric        | 80% end reading of flow meter.              | Positive numeric values                 |
| `SECS_80_`          | Numeric        | Time for 80% flow meter reading (s).        | Positive numeric values                 |
| `Water_Velo`        | Numeric        | Water velocity (fps).                       | Positive numeric values                 |
| `COMMENTS`          | String         | Additional comments about the observation.  | Free text (limit to 250 characters)     |
| `Survey`            | Categorical    | Survey identifier.                          | Predefined survey codes                 |
| `Age_Survey_3`      | Numeric        | Age observed during survey 3.               | Integer values                          |
| `Age_Survey_4`      | Numeric        | Age observed during survey 4.               | Integer values                          |
| `Age_Survey_5`      | Numeric        | Age observed during survey 5.               | Integer values                          |
| `Corr_Type`         | Categorical    | Correction type used.                       | Predefined correction types             |
| `Horz_Prec`         | Numeric        | Horizontal precision of observation.        | Positive numeric values                 |

---

## Substrate Classification System
- For the `PRE_SUB`, `SIDE_SUB`, and `TAIL_SUB` fields, **always use the standardized size ranges** listed below:

| Standardized Size Range | Substrate Class                 |
|-------------------------|----------------------------------|
| `<0.25`                 | Fine sand                      |
| `0.25-0.5`              | Medium sand                    |
| `0.5-1`                 | Coarse sand                    |
| `1-2`                   | Very coarse sand               |
| `2-4`                   | Very fine gravel               |
| `4-8`                   | Fine gravel                    |
| `8-16`                  | Medium gravel                  |
| `>16`                   | Coarse gravel to boulder       |

---

## Automated Validations
1. **Substrate Size Consistency**:
   - Ensure all `PRE_SUB`, `SIDE_SUB`, and `TAIL_SUB` values match one of the standardized size ranges listed above.
   - Automatically map sizes to their corresponding substrate classes.
2. **Reach Standardization**:
   - Convert numeric reaches (`1`, `2`, etc.) to the format `R1`, `R2`, etc., during processing.
3. **Missing Data Checks**:
   - Ensure no required fields are left blank. Flag entries with missing mandatory values.
4. **Date Validation**:
   - Verify that `DATE` and `DATE_MEA` are in `MM/DD/YYYY` format.
